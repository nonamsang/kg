<!-- templates/fragments/header.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <body>
    <header>
      <div class="logo">
        <a href="/"> <img src="/image/logo2.png" alt="logo"> </a>
      </div>

      <div class="menu">
        <div class="menu-item">
          <a href="#">서비스</a>
          <div class="submenu">
            <a href="/growtree">나무심기</a>
            <a href="/wallet">지갑</a>
          </div>
        </div>
        <div class="menu-item">
          <a href="/notice">공지사항</a>
        </div>
        <div class="menu-item">
          <a href="/mypage">이벤트</a>
        </div>
      </div>

      <div class="mypage">
        <a href="#" id="mypage-link"> <i class="fa-solid fa-circle-user"></i></a>
      </div>

      <script>
        document.getElementById('mypage-link').addEventListener('click', function(event) {
          event.preventDefault();
          const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
          window.location.href = isLoggedIn ? '/mypage' : '/login';
        });
      </script>
    </header>
  </body>
</html>